(this.webpackJsonptest_task_rockstone=this.webpackJsonptest_task_rockstone||[]).push([[0],{33:function(n,e,t){"use strict";t.r(e);var r=t(2),c=t(0),o=t.n(c),i=t(7),a=t.n(i),u=t(5),s=t(18),l=t(3),b=t(4),d=t(13),j=t(14),f=t(8),p=function(n,e){var t=function(n){var e="";return Object.values(n).reduce((function(n,t,r,c){return t.sum>n?t.sum<15e3&&6===r?n:(e=r,t.sum):n}),0),e}(e),r=Object.keys(e).map(Number).sort((function(n,e){return e-n})).slice(t),c=Object.keys(e).map(Number).sort((function(n,e){return e-n})),o=!1,i={};function a(n,t){if(0===n)return{};if(!t.length)return o=!0,void e.updateCountBanknotes(i);var r=t[0],c=e["+".concat(r)].countBanknotes,u=Math.floor(n/r),s=Math.min(c,u);o||(i[r]=s),e["+".concat(r)]=Object(b.a)(Object(b.a)({},e["+".concat(r)]),{},{countBanknotes:e["+".concat(r)].countBanknotes-s}),s>0&&e.updateFinalAmount(r);var l=a(n-s*r,t.slice(1));return l?s>0?Object(b.a)(Object(f.a)({},"+".concat(r),s),l):l:void 0}var u=a(n,r);return o?a(n,c):u};var h,x,O,m,g,v,y,w,k,_,A,N,B,I,E,T,M,S,C,D,R,q,z,L,U,F,G=function(){function n(e,t,r,c,o,i,a){Object(d.a)(this,n),this["+5000"]={countBanknotes:a,sum:5e3*a},this["+2000"]={countBanknotes:i,sum:2e3*i},this["+1000"]={countBanknotes:o,sum:1e3*o},this["+500"]={countBanknotes:c,sum:500*c},this["+200"]={countBanknotes:r,sum:200*r},this["+100"]={countBanknotes:t,sum:100*t},this["+50"]={countBanknotes:e,sum:50*e}}return Object(j.a)(n,[{key:"updateFinalAmount",value:function(n){this["+".concat(n)].sum=n*this["+".concat(n)].countBanknotes}},{key:"updateCountBanknotes",value:function(n){var e=this;[5e3,2e3,1e3,500,200,100,50].forEach((function(t){for(var r in n)Number(r)===t&&(e["+".concat(t)].countBanknotes=e["+".concat(t)].countBanknotes+n[r],e["+".concat(t)].sum=t*e["+".concat(t)].countBanknotes)}))}}]),n}(),H="ADD_AMOUNT",P="ADD_AMOUNT_NUMPAD",X="CLEAN_AMOUNT",V="REQUIRED_TOTAL_AMOUNT",J="SELECT_NOTE",W="UNSELECT_NOTE",Q="SHOW_INFO",Y="GIVEN_MONEY",K="SHOW_ALERT",Z="UPDATE_BALANCE",$=function(){return{type:X}},nn=function(n){return{type:V,payload:n}},en=function(){return{type:Q}},tn=function(n){return{type:Y,payload:n}},rn=function(n){return{type:K,text:n}},cn=function(n){return{type:Z,total:n}},on=t(1),an=l.b.button(h||(h=Object(r.a)(["\n    grid-area: num_",";\n    width: 200px;\n    height: 50px;\n    user-select: none;\n    justify-self: center; \n    cursor: pointer;\n    background-color: ",";\n"])),(function(n){return n.info}),(function(n){return n.color||"none"})),un=Object(u.b)((function(n){return{validInput:n.validInput,limits:n.limits,getBalance:n.balance}}),(function(n){return{addNumber:function(e){return n({type:P,payload:e})},clean:function(){return n($())},submitRequiredTotalAmount:function(e){return n(nn(e))},showInfo:function(){return n(en())},updateGivenMoney:function(e){return n(tn(e))},updateBalance:function(e){return n(cn(e))},showAlert:function(e){return n(rn(e))}}}))((function(n){return Object(on.jsx)(an,Object(b.a)(Object(b.a)({},n),{},{onClick:function(e){if("\u0412\u044b\u0434\u0430\u0442\u044c"===e.target.textContent){var t=p(n.validInput,n.limits);return n.submitRequiredTotalAmount(n.validInput),n.updateGivenMoney(t),n.updateBalance(Object.values(n.limits).reduce((function(n,e){return Number(n)+Number(e.sum)}),0)),n.getBalance<50?(n.showAlert("\u0414\u0435\u043d\u044c\u0433\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c"),void n.clean()):void n.clean()}if("\u0421\u043f\u0440\u0430\u0432\u043a\u0430"===e.target.textContent)return n.showInfo(),void n.showAlert("\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043a\u0443\u043f\u044e\u0440");n.addNumber(e.target.textContent)},children:Object(on.jsx)("b",{children:n.info})}))})),sn=l.b.footer(x||(x=Object(r.a)(["\n    flex: 0 0 auto;\n    height: 100px;\n    background-color: #0dcaf0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 30px;\n"]))),ln=Object(u.b)((function(n){return{showAlert:n.showAlert.state}}),null)((function(n){return Object(on.jsxs)(sn,{children:[Object(on.jsx)(un,{info:"\u0412\u044b\u0434\u0430\u0442\u044c",color:"#489048",disabled:n.showAlert}),Object(on.jsx)(un,{info:"\u0421\u043f\u0440\u0430\u0432\u043a\u0430",disabled:n.showAlert})]})})),bn=l.b.header(O||(O=Object(r.a)(["\n    padding: 30px 0 30px;\n    background-color: #0dcaf0;\n    text-align: center;\n    flex: 0 0 auto;\n"]))),dn=l.b.h2(m||(m=Object(r.a)(["\n    font-size: 30px;\n"]))),jn=function(n){return Object(on.jsx)(bn,{children:Object(on.jsx)(dn,{children:"\u0412\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442"})})},fn=l.b.div(g||(g=Object(r.a)(['\nmargin-top: 10px;\n  display: grid; \n  grid-auto-columns: 1fr; \n  grid-template-columns: 1fr 1fr 1fr; \n  grid-template-rows: 1fr 1fr 1fr 1fr; \n  gap: 12px 12px; \n  grid-template-areas: \n    "num_1 num_2 num_3"\n    "num_4 num_5 num_6"\n    "num_7 num_8 num_9"\n    "empty_1 num_0 empty_2"; \n\n']))),pn=function(){return Object(on.jsx)(fn,{children:[0,1,2,3,4,5,6,7,8,9].map((function(n,e){return Object(on.jsx)(un,{info:n},e)}))})},hn=l.b.div(v||(v=Object(r.a)(["\n    flex: 1 1 auto;\n    margin: 10px;\n    padding: 10px;\n    border: 1.2px solid #00000042;\n    background-color: #e2e2e2a1;\n    border-radius: 5px;\n    display: flex;\n    flex-direction: column;\n"]))),xn=function(n){var e=n.children;return Object(on.jsx)(hn,{children:e})},On=l.b.div(y||(y=Object(r.a)(["\n    margin-top: 5px;\n"]))),mn=l.b.input(w||(w=Object(r.a)(["\n    margin-right: 5px;\n    width: 15px;\n    height: 15px;\n"]))),gn=l.b.label(k||(k=Object(r.a)(["\n    font-size: 20px;\n    user-select: none;\n"]))),vn=Object(u.b)(null,(function(n){return{updateSelectedNote:function(e){return n({type:J,payload:e})},removeSelectedNote:function(e){return n({type:W,payload:e})}}}))((function(n){var e=n.note,t=n.num,r=n.updateSelectedNote,c=n.removeSelectedNote;return Object(on.jsxs)(On,{children:[Object(on.jsx)(mn,{id:"ckeckbox".concat(t),type:"checkbox",onChange:function(n){n.target.checked?r(n.target.labels[0].innerHTML):c(n.target.labels[0].innerHTML)}}),Object(on.jsx)(gn,{htmlFor:"ckeckbox".concat(t),children:e})]})})),yn=Object(u.b)((function(n){return{givenMoney:n.givenMoney}}),null)((function(n){var e=n.item,t=n.count;return Object(on.jsxs)("div",{children:[e,": ",Object(on.jsx)("span",{children:Object(on.jsx)("b",{children:t})})]})})),wn=l.b.div(_||(_=Object(r.a)(["\n    width: 100%;\n    height: 100%;\n    background-color: #bdf4ff;\n    position: relative;\n    display: fixed;\n"]))),kn=l.b.div(A||(A=Object(r.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    flex-direction: column;\n"]))),_n=l.b.div(N||(N=Object(r.a)(["\n    text-align: center;\n    font-size: 30px;\n    user-select: none;\n"]))),An=l.b.div(B||(B=Object(r.a)(["\n    position: absolute;\n    right: 32px;\n    top: 32px;\n    width: 32px;\n    height: 32px;\n    opacity: 0.3;  \n    &:hover {\n        opacity: 1;\n    }\n    &::before, &::after{\n        position: absolute;\n        left: 15px;\n        content: ' ';\n        height: 33px;\n        width: 2px;\n        background-color: #333; \n    }\n    &::before {\n        transform: rotate(45deg);\n    }\n    &::after {\n        transform: rotate(-45deg);\n}\n"]))),Nn=l.b.div(I||(I=Object(r.a)(["\n    font-size:20px;\n    margin-top: 10px;\n    text-align: center;\n"]))),Bn=Object(u.b)((function(n){return console.log(n.showInfo),{alertText:n.showAlert.text,showInfoSwitcher:n.showInfo,limits:n.limits}}),(function(n){return{showAlert:function(){return n(rn())},showInfo:function(){return n(en())}}}))((function(n){var e=function(e){var t=0;return Object.entries(n.limits).forEach((function(n){Number(n[0])===e&&(t="".concat(n[1].countBanknotes,"____ Total: ").concat(n[1].sum))})),t};return Object(on.jsx)(wn,{children:Object(on.jsxs)(kn,{children:[Object(on.jsx)(_n,{children:n.alertText}),n.showInfoSwitcher?Object(on.jsx)(Nn,{children:[5e3,2e3,1e3,500,200,100,50].map((function(n,t){return Object(on.jsx)(yn,{item:n,count:e(n)},t)}))}):"",Object(on.jsx)(An,{onClick:function(){n.showAlert(),n.showInfoSwitcher&&n.showInfo()}})]})})})),In=l.b.section(E||(E=Object(r.a)(["\n    flex: 1 0 auto;\n    background-color: #a4b9bd4f;\n"]))),En=l.b.div(T||(T=Object(r.a)(["\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n    gap: 10px;\n"]))),Tn=l.b.form(M||(M=Object(r.a)(["\n    flex: 1 1 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),Mn=l.b.input(S||(S=Object(r.a)(["\n    width: 300px;\n    height: 50px;\n    border: none;\n    padding-left: 10px;\n    outline:transparent;\n    border-top-left-radius:5px;\n    border-bottom-left-radius:5px;\n    font-size:20px\n    \n"]))),Sn=l.b.button(C||(C=Object(r.a)(["\n    width: 70px;\n    height: 50px;\n    border: none;\n    cursor: pointer;\n    border-top-right-radius:5px;\n    border-bottom-right-radius:5px;\n    background-color: #ff9999;\n    &:hover{\n        background-color: #cccccc;\n    }\n"]))),Cn=l.b.h2(D||(D=Object(r.a)(["\n    font-size: 35px;\n    text-align:center;\n"]))),Dn=l.b.span(R||(R=Object(r.a)(["\n    font-size: 15px;\n    text-align:center;\n"]))),Rn=l.b.form(q||(q=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),qn=l.b.legend(z||(z=Object(r.a)(["\n    text-align:center;\n    font-size:20px;\n    margin-bottom:10px;\n"]))),zn=l.b.div(L||(L=Object(r.a)(["\n    font-size:20px;\n    margin-top: 10px;\n    text-align: center;\n"]))),Ln=l.b.div(U||(U=Object(r.a)(["\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: end;\n    font-size:20px;\n"]))),Un=Object(u.b)((function(n){return{validAmountRequired:n.validInput,showInfo:n.showInfo,limits:n.limits,alertPermission:n.showAlert.state,givenMoney:n.givenMoney,getBalance:n.balance}}),(function(n){return{addNumber:function(e){return n({type:H,payload:e})},clean:function(){return n($())},submitRequiredTotalAmount:function(e){return n(nn(e))},updateGivenMoney:function(e){return n(tn(e))},showAlert:function(e){return n(rn(e))},updateBalance:function(e){return n(cn(e))}}}))((function(n){var e=function(e){if(!(n.getBalance<=50)){var t=0;return Object.entries(n.givenMoney).forEach((function(n){Number(n[0])===e&&(t=n[1])})),t}};return n.updateBalance(Object.values(n.limits).reduce((function(n,e){return Number(n)+Number(e.sum)}),0)),Object(on.jsx)(In,{children:n.alertPermission?Object(on.jsx)(Bn,{}):Object(on.jsxs)(En,{children:[Object(on.jsxs)(xn,{children:[Object(on.jsx)(Cn,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443"}),Object(on.jsx)(Dn,{children:"\u041a\u0430\u043a\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043d\u044f\u0442\u044c?"}),Object(on.jsxs)(Tn,{onSubmit:function(e){if(e.preventDefault(),n.getBalance<50&&(n.showAlert("\u0414\u0435\u043d\u044c\u0433\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c"),n.clean()),n.validAmountRequired%50===0){var t=p(n.validAmountRequired,n.limits);n.submitRequiredTotalAmount(n.validAmountRequired),n.updateGivenMoney(t),n.updateBalance(Object.values(n.limits).reduce((function(n,e){return Number(n)+Number(e.sum)}),0)),n.clean()}else e.target.firstElementChild.focus(),n.showAlert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u043a\u0440\u0430\u0442\u043d\u0443\u044e 50"),n.clean()},children:[Object(on.jsx)(Mn,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",pattern:"[0-9]*",value:n.validAmountRequired,onChange:function(e){e.preventDefault();var t=e.target.value;e.target.validity.valid&&n.addNumber(t)}}),Object(on.jsx)(Sn,{onClick:function(e){e.preventDefault(),n.clean(),e.target.previousElementSibling.focus()},type:"button",children:"\u0421\u0442\u0435\u0440\u0435\u0442\u044c"})]}),Object(on.jsx)(pn,{})]}),Object(on.jsx)(xn,{children:Object(on.jsxs)(Rn,{children:[Object(on.jsxs)(qn,{children:["\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 ",Object(on.jsx)("br",{})," \u043a\u0443\u043f\u044e\u0440\u044b"]}),[5e3,2e3,1e3,500,200,100,50].map((function(n,e){return Object(on.jsx)(vn,{num:e,note:n},e)}))]})}),Object(on.jsxs)(xn,{children:[Object(on.jsx)(Cn,{children:"\u0412\u044b\u0434\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"}),Object(on.jsx)(zn,{children:[5e3,2e3,1e3,500,200,100,50].map((function(n,t){return Object(on.jsx)(yn,{item:n,count:e(n)},t)}))}),Object(on.jsxs)(Ln,{children:["\u041e\u0441\u0442\u0430\u0442\u043e\u043a:",Object(on.jsx)("span",{children:Object(on.jsx)("b",{children:n.getBalance})})]})]})]})})})),Fn=function(){return Object(on.jsxs)(on.Fragment,{children:[Object(on.jsx)(jn,{}),Object(on.jsx)(Un,{}),Object(on.jsx)(ln,{})]})},Gn=t(19),Hn=Object(l.a)(F||(F=Object(r.a)(["\n  *,\n  *:after,\n  *:before {\n    box-sizing: border-box;\n    margin: 0;\n    padding:0;\n} \n\n  html, body {\n    height: 100%;\n  }\n  #root {\n    display:flex;\n    flex-direction: column;\n    height: 100%;\n    margin: 0 auto;\n    max-width: 1440px;\n  }\n"]))),Pn={validInput:"",requiredTotalAmount:"",selectedNotes:[],showInfo:!1,limits:new G(342,124,2154,4365,2543,562,546),givenMoney:{},showAlert:{state:!1,text:""},balance:0},Xn=Object(s.a)((function(n,e){switch(e.type){case H:return Object(b.a)(Object(b.a)({},n),{},{validInput:e.payload});case P:return Object(b.a)(Object(b.a)({},n),{},{validInput:n.validInput+e.payload});case X:return Object(b.a)(Object(b.a)({},n),{},{validInput:""});case V:return Object(b.a)(Object(b.a)({},n),{},{requiredTotalAmount:e.payload});case J:return Object(b.a)(Object(b.a)({},n),{},{selectedNotes:[].concat(Object(Gn.a)(n.selectedNotes),[e.payload]).sort((function(n,e){return e-n}))});case W:return Object(b.a)(Object(b.a)({},n),{},{selectedNotes:n.selectedNotes.filter((function(n){return n!==e.payload}))});case Q:return Object(b.a)(Object(b.a)({},n),{},{showInfo:!n.showInfo});case Y:return Object(b.a)(Object(b.a)({},n),{},{givenMoney:e.payload});case K:return Object(b.a)(Object(b.a)({},n),{},{showAlert:{state:!n.showAlert.state,text:e.text}});case Z:return Object(b.a)(Object(b.a)({},n),{},{balance:e.total});default:return n}}),Pn,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(on.jsx)(o.a.StrictMode,{children:Object(on.jsxs)(u.a,{store:Xn,children:[Object(on.jsx)(Hn,{}),Object(on.jsx)(Fn,{})]})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.fd5bc379.chunk.js.map