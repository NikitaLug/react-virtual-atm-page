(this.webpackJsonptest_task_rockstone=this.webpackJsonptest_task_rockstone||[]).push([[0],{33:function(e,n,t){"use strict";t.r(n);var r=t(2),c=t(0),o=t.n(c),i=t(7),a=t.n(i),u=t(5),s=t(18),l=t(3),d=t(4),b=t(8),f=t(13),j=t(14),p=function(){function e(n,t,r,c,o,i,a){Object(f.a)(this,e),this["+5000"]={countBanknotes:a,sum:5e3*a},this["+2000"]={countBanknotes:i,sum:2e3*i},this["+1000"]={countBanknotes:o,sum:1e3*o},this["+500"]={countBanknotes:c,sum:500*c},this["+200"]={countBanknotes:r,sum:200*r},this["+100"]={countBanknotes:t,sum:100*t},this["+50"]={countBanknotes:n,sum:50*n}}return Object(j.a)(e,[{key:"updateFinalAmount",value:function(e){this["+".concat(e)].sum=e*this["+".concat(e)].countBanknotes}},{key:"updateCountBanknotes",value:function(e){var n=this;[5e3,2e3,1e3,500,200,100,50].forEach((function(t){for(var r in e)Number(r)===t&&(n["+".concat(t)].countBanknotes=n["+".concat(t)].countBanknotes+e[r],n["+".concat(t)].sum=t*n["+".concat(t)].countBanknotes)}))}}]),e}(),h=function(e,n){var t,r=function(e){var n="";return Object.values(e).reduce((function(e,t,r,c){return t.sum>e?t.sum<15e3&&6===r?e:(n=r,t.sum):e}),0),n}(n);t=e<2e4?function(e){return Object.entries(e).sort((function(e,n){return n[1].countBanknotes-e[1].countBanknotes})).map((function(e){return Number(e[0])}))}(n):Object.keys(n).map(Number).sort((function(e,n){return n-e})).slice(r);var c=Object.keys(n).map(Number).sort((function(e,n){return n-e})),o=!1,i={};function a(e,t){if(0===e)return{};if(!t.length)return o=!0,void n.updateCountBanknotes(i);var r=t[0],c=n["+".concat(r)].countBanknotes,u=Math.floor(e/r),s=Math.min(c,u);o||(i[r]=s),n["+".concat(r)]=Object(d.a)(Object(d.a)({},n["+".concat(r)]),{},{countBanknotes:n["+".concat(r)].countBanknotes-s}),s>0&&n.updateFinalAmount(r);var l=a(e-s*r,t.slice(1));return l?s>0?Object(d.a)(Object(b.a)({},"+".concat(r),s),l):l:void 0}var u=a(e,t);return o?a(e,c):u};var O,m,x,g,v,y,N,w,A,k,_,B,E,I,T,S,M,R,q,C,D,L,z,U,F,G,H=function(e,n,t){if(!(function(e){return Object.values(e).reduce((function(e,n,t,r){return e+n.sum}),0)}(n)<e)){for(var r={},c=0,o=e;;){var i=Number(t[c]);if(50===o){r[50]=1;break}if(o-i>=0){if(o-=i,r[i]?r[i]+=1:r[i]=1,n["+".concat(i)]=Object(d.a)(Object(d.a)({},n["+".concat(i)]),{},{countBanknotes:n["+".concat(i)].countBanknotes-1}),n.updateFinalAmount(i),0===o)break;c++,t.length===c&&(c=0)}else c++,t.length===c&&(c=0)}return r}console.log("\u041d\u0435\u0434\u043e\u0441\u0442\u0430\u0442\u043e\u0447\u043d\u043e \u0434\u0435\u043d\u0435\u0433")},P="ADD_AMOUNT",X="ADD_AMOUNT_NUMPAD",V="CLEAN_AMOUNT",J="REQUIRED_TOTAL_AMOUNT",W="SELECT_NOTE",Q="CLEAN_SELECT_NOTE",Y="UNSELECT_NOTE",K="SHOW_INFO",Z="GIVEN_MONEY",$="SHOW_ALERT",ee="UPDATE_BALANCE",ne=function(){return{type:V}},te=function(e){return{type:J,payload:e}},re=function(){return{type:Q}},ce=function(){return{type:K}},oe=function(e){return{type:Z,payload:e}},ie=function(e){return{type:$,text:e}},ae=function(e){return{type:ee,total:e}},ue=t(1),se=l.b.button(O||(O=Object(r.a)(["\n    grid-area: num_",";\n    width: 200px;\n    height: 50px;\n    user-select: none;\n    justify-self: center; \n    cursor: pointer;\n    background-color: ",";\n"])),(function(e){return e.info}),(function(e){return e.color||"none"})),le=Object(u.b)((function(e){return{validInput:e.validInput,limits:e.limits,getBalance:e.balance,validAmountRequired:e.validInput,selectedNotes:e.selectedNotes}}),(function(e){return{addNumber:function(n){return e({type:X,payload:n})},clean:function(){return e(ne())},submitRequiredTotalAmount:function(n){return e(te(n))},showInfo:function(){return e(ce())},updateGivenMoney:function(n){return e(oe(n))},updateBalance:function(n){return e(ae(n))},showAlert:function(n){return e(ie(n))},cleanSelectedNote:function(){return e(re())}}}))((function(e){return Object(ue.jsx)(se,Object(d.a)(Object(d.a)({},e),{},{onClick:function(n){if("\u0412\u044b\u0434\u0430\u0442\u044c"===n.target.textContent){var t;if(e.validAmountRequired>e.getBalance)return void e.showAlert("\u0412\u0432\u0435\u0434\u0435\u043d\u043d\u0430\u044f \u0432\u0430\u043c\u0438 \u0441\u0443\u043c\u043c\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u0440\u0430\u0437\u043c\u0435\u0440\u044b \u044d\u0442\u043e\u0433\u043e \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430");if(e.validAmountRequired%50!==0)return e.showAlert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u043a\u0440\u0430\u0442\u043d\u0443\u044e 50"),void e.clean();if(0!==e.selectedNotes.length){for(var r=!1,c=0;c<e.selectedNotes.length;c++)e.validAmountRequired%e.selectedNotes[c]===0&&(r=!0);if(!r)return e.showAlert("\u041e\u0434\u043d\u0430 \u0438\u0437 \u043a\u0443\u043f\u044e\u0440 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u043e\u0439 \u0441\u0443\u043c\u043c\u0435"),void e.cleanSelectedNote();t=H(e.validAmountRequired,e.limits,e.selectedNotes),e.cleanSelectedNote()}else t=h(e.validInput,e.limits);return e.submitRequiredTotalAmount(e.validInput),e.updateGivenMoney(t),e.updateBalance(Object.values(e.limits).reduce((function(e,n){return Number(e)+Number(n.sum)}),0)),e.getBalance<50?(e.showAlert("\u0414\u0435\u043d\u044c\u0433\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c"),void e.clean()):void e.clean()}if("\u0421\u043f\u0440\u0430\u0432\u043a\u0430"===n.target.textContent)return e.showInfo(),void e.showAlert("\u041e\u0441\u0442\u0430\u043b\u043e\u0441\u044c \u043a\u0443\u043f\u044e\u0440");e.addNumber(n.target.textContent)},children:Object(ue.jsx)("b",{children:e.info})}))})),de=l.b.footer(m||(m=Object(r.a)(["\n    flex: 0 0 auto;\n    height: 100px;\n    background-color: #0dcaf0;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    gap: 30px;\n"]))),be=Object(u.b)((function(e){return{showAlert:e.showAlert.state}}),null)((function(e){return Object(ue.jsxs)(de,{children:[Object(ue.jsx)(le,{info:"\u0412\u044b\u0434\u0430\u0442\u044c",color:"#489048",disabled:e.showAlert}),Object(ue.jsx)(le,{info:"\u0421\u043f\u0440\u0430\u0432\u043a\u0430",disabled:e.showAlert})]})})),fe=l.b.header(x||(x=Object(r.a)(["\n    padding: 30px 0 30px;\n    background-color: #0dcaf0;\n    text-align: center;\n    flex: 0 0 auto;\n"]))),je=l.b.h2(g||(g=Object(r.a)(["\n    font-size: 30px;\n"]))),pe=function(e){return Object(ue.jsx)(fe,{children:Object(ue.jsx)(je,{children:"\u0412\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u044b\u0439 \u0431\u0430\u043d\u043a\u043e\u043c\u0430\u0442"})})},he=l.b.div(v||(v=Object(r.a)(['\nmargin-top: 10px;\n  display: grid; \n  grid-auto-columns: 1fr; \n  grid-template-columns: 1fr 1fr 1fr; \n  grid-template-rows: 1fr 1fr 1fr 1fr; \n  gap: 12px 12px; \n  grid-template-areas: \n    "num_1 num_2 num_3"\n    "num_4 num_5 num_6"\n    "num_7 num_8 num_9"\n    "empty_1 num_0 empty_2"; \n\n']))),Oe=function(){return Object(ue.jsx)(he,{children:[0,1,2,3,4,5,6,7,8,9].map((function(e,n){return Object(ue.jsx)(le,{info:e},n)}))})},me=l.b.div(y||(y=Object(r.a)(["\n    flex: 1 1 auto;\n    margin: 10px;\n    padding: 10px;\n    border: 1.2px solid #00000042;\n    background-color: #e2e2e2a1;\n    border-radius: 5px;\n    display: flex;\n    flex-direction: column;\n"]))),xe=function(e){var n=e.children;return Object(ue.jsx)(me,{children:n})},ge=l.b.div(N||(N=Object(r.a)(["\n    margin-top: 5px;\n"]))),ve=l.b.input(w||(w=Object(r.a)(["\n    margin-right: 5px;\n    width: 15px;\n    height: 15px;\n"]))),ye=l.b.label(A||(A=Object(r.a)(["\n    font-size: 20px;\n    user-select: none;\n"]))),Ne=Object(u.b)(null,(function(e){return{updateSelectedNote:function(n){return e({type:W,payload:n})},removeSelectedNote:function(n){return e({type:Y,payload:n})}}}))((function(e){var n=e.note,t=e.num,r=e.updateSelectedNote,c=e.removeSelectedNote;e.updateCheckboxStatus;return Object(ue.jsxs)(ge,{children:[Object(ue.jsx)(ve,{id:"checkbox".concat(t),type:"checkbox",onChange:function(e){e.target.checked?r(e.target.labels[0].innerHTML):c(e.target.labels[0].innerHTML)}}),Object(ue.jsx)(ye,{htmlFor:"checkbox".concat(t),children:n})]})})),we=Object(u.b)((function(e){return{givenMoney:e.givenMoney}}),null)((function(e){var n=e.item,t=e.count;return Object(ue.jsxs)("div",{children:[n,": ",Object(ue.jsx)("span",{children:Object(ue.jsx)("b",{children:t})})]})})),Ae=l.b.div(k||(k=Object(r.a)(["\n    width: 100%;\n    height: 100%;\n    background-color: #bdf4ff;\n    position: relative;\n    display: fixed;\n"]))),ke=l.b.div(_||(_=Object(r.a)(["\n    display: flex;\n    justify-content: center;\n    align-items: center;\n    width: 100%;\n    height: 100%;\n    flex-direction: column;\n"]))),_e=l.b.div(B||(B=Object(r.a)(["\n    text-align: center;\n    font-size: 30px;\n    user-select: none;\n"]))),Be=l.b.div(E||(E=Object(r.a)(["\n    position: absolute;\n    right: 32px;\n    top: 32px;\n    width: 32px;\n    height: 32px;\n    opacity: 0.3;  \n    &:hover {\n        opacity: 1;\n    }\n    &::before, &::after{\n        position: absolute;\n        left: 15px;\n        content: ' ';\n        height: 33px;\n        width: 2px;\n        background-color: #333; \n    }\n    &::before {\n        transform: rotate(45deg);\n    }\n    &::after {\n        transform: rotate(-45deg);\n}\n"]))),Ee=l.b.div(I||(I=Object(r.a)(["\n    font-size:20px;\n    margin-top: 10px;\n    text-align: center;\n"]))),Ie=Object(u.b)((function(e){return console.log(e.showInfo),{alertText:e.showAlert.text,showInfoSwitcher:e.showInfo,limits:e.limits}}),(function(e){return{showAlert:function(){return e(ie())},showInfo:function(){return e(ce())}}}))((function(e){var n=function(n){var t=0;return Object.entries(e.limits).forEach((function(e){Number(e[0])===n&&(t="".concat(e[1].countBanknotes,"____ Total: ").concat(e[1].sum))})),t};return Object(ue.jsx)(Ae,{children:Object(ue.jsxs)(ke,{children:[Object(ue.jsx)(_e,{children:e.alertText}),e.showInfoSwitcher?Object(ue.jsx)(Ee,{children:[5e3,2e3,1e3,500,200,100,50].map((function(e,t){return Object(ue.jsx)(we,{item:e,count:n(e)},t)}))}):"",Object(ue.jsx)(Be,{onClick:function(){e.showAlert(),e.showInfoSwitcher&&e.showInfo()}})]})})})),Te=l.b.section(T||(T=Object(r.a)(["\n    flex: 1 0 auto;\n    background-color: #a4b9bd4f;\n"]))),Se=l.b.div(S||(S=Object(r.a)(["\n    display: flex;\n    justify-content: space-between;\n    height: 100%;\n    gap: 10px;\n"]))),Me=l.b.form(M||(M=Object(r.a)(["\n    flex: 1 1 auto;\n    display: flex;\n    justify-content: center;\n    align-items: center;\n"]))),Re=l.b.input(R||(R=Object(r.a)(["\n    width: 300px;\n    height: 50px;\n    border: none;\n    padding-left: 10px;\n    outline:transparent;\n    border-top-left-radius:5px;\n    border-bottom-left-radius:5px;\n    font-size:20px\n    \n"]))),qe=l.b.button(q||(q=Object(r.a)(["\n    width: 70px;\n    height: 50px;\n    border: none;\n    cursor: pointer;\n    border-top-right-radius:5px;\n    border-bottom-right-radius:5px;\n    background-color: #ff9999;\n    &:hover{\n        background-color: #cccccc;\n    }\n"]))),Ce=l.b.h2(C||(C=Object(r.a)(["\n    font-size: 35px;\n    text-align:center;\n"]))),De=l.b.span(D||(D=Object(r.a)(["\n    font-size: 15px;\n    text-align:center;\n"]))),Le=l.b.form(L||(L=Object(r.a)(["\n    display: flex;\n    flex-direction: column;\n"]))),ze=l.b.legend(z||(z=Object(r.a)(["\n    text-align:center;\n    font-size:20px;\n    margin-bottom:10px;\n"]))),Ue=l.b.div(U||(U=Object(r.a)(["\n    font-size:20px;\n    margin-top: 10px;\n    text-align: center;\n"]))),Fe=l.b.div(F||(F=Object(r.a)(["\n    height: 100%;\n    display: flex;\n    justify-content: center;\n    align-items: end;\n    font-size:20px;\n"]))),Ge=Object(u.b)((function(e){return{validAmountRequired:e.validInput,showInfo:e.showInfo,limits:e.limits,alertPermission:e.showAlert.state,givenMoney:e.givenMoney,getBalance:e.balance,selectedNotes:e.selectedNotes}}),(function(e){return{addNumber:function(n){return e({type:P,payload:n})},clean:function(){return e(ne())},submitRequiredTotalAmount:function(n){return e(te(n))},updateGivenMoney:function(n){return e(oe(n))},showAlert:function(n){return e(ie(n))},updateBalance:function(n){return e(ae(n))},cleanSelectedNote:function(){return e(re())}}}))((function(e){var n=function(n){if(!(e.getBalance<=50)){var t=0;return Object.entries(e.givenMoney).forEach((function(e){Number(e[0])===n&&(t=e[1])})),t}};return e.updateBalance(Object.values(e.limits).reduce((function(e,n){return Number(e)+Number(n.sum)}),0)),Object(ue.jsx)(Te,{children:e.alertPermission?Object(ue.jsx)(Ie,{}):Object(ue.jsxs)(Se,{children:[Object(ue.jsxs)(xe,{children:[Object(ue.jsx)(Ce,{children:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443"}),Object(ue.jsx)(De,{children:"\u041a\u0430\u043a\u0443\u044e \u0441\u0443\u043c\u043c\u0443 \u0445\u043e\u0442\u0438\u0442\u0435 \u0441\u043d\u044f\u0442\u044c?"}),Object(ue.jsxs)(Me,{onSubmit:function(n){if(n.preventDefault(),e.getBalance<50&&(e.showAlert("\u0414\u0435\u043d\u044c\u0433\u0438 \u0437\u0430\u043a\u043e\u043d\u0447\u0438\u043b\u0438\u0441\u044c"),e.clean()),e.validAmountRequired>e.getBalance)e.showAlert("\u0412\u0432\u0435\u0434\u0435\u043d\u043d\u0430\u044f \u0432\u0430\u043c\u0438 \u0441\u0443\u043c\u043c\u0430 \u043f\u0440\u0435\u0432\u044b\u0448\u0430\u0435\u0442 \u0440\u0430\u0437\u043c\u0435\u0440\u044b \u044d\u0442\u043e\u0433\u043e \u0432\u0438\u0440\u0442\u0443\u0430\u043b\u044c\u043d\u043e\u0433\u043e \u043a\u043e\u0448\u0435\u043b\u044c\u043a\u0430");else if(e.validAmountRequired%50===0){var t;if(0!==e.selectedNotes.length){for(var r=!1,c=0;c<e.selectedNotes.length;c++)e.validAmountRequired%e.selectedNotes[c]===0&&(r=!0);if(!r)return e.showAlert("\u041e\u0434\u043d\u0430 \u0438\u0437 \u043a\u0443\u043f\u044e\u0440 \u0434\u043e\u043b\u0436\u043d\u0430 \u0431\u044b\u0442\u044c \u043a\u0440\u0430\u0442\u043d\u0430 \u0437\u0430\u043f\u0440\u0430\u0448\u0438\u0432\u0430\u0435\u043c\u043e\u0439 \u0441\u0443\u043c\u043c\u0435"),void e.cleanSelectedNote();t=H(e.validAmountRequired,e.limits,e.selectedNotes),e.cleanSelectedNote()}else t=h(e.validAmountRequired,e.limits);e.submitRequiredTotalAmount(e.validAmountRequired),e.updateGivenMoney(t),e.updateBalance(Object.values(e.limits).reduce((function(e,n){return Number(e)+Number(n.sum)}),0)),e.clean()}else n.target.firstElementChild.focus(),e.showAlert("\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443 \u043a\u0440\u0430\u0442\u043d\u0443\u044e 50"),e.clean()},children:[Object(ue.jsx)(Re,{type:"text",placeholder:"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0441\u0443\u043c\u043c\u0443",pattern:"[0-9]*",value:e.validAmountRequired,onChange:function(n){n.preventDefault();var t=n.target.value;n.target.validity.valid&&e.addNumber(t)}}),Object(ue.jsx)(qe,{onClick:function(n){n.preventDefault(),e.clean(),n.target.previousElementSibling.focus()},type:"button",children:"\u0421\u0442\u0435\u0440\u0435\u0442\u044c"})]}),Object(ue.jsx)(Oe,{})]}),Object(ue.jsx)(xe,{children:Object(ue.jsxs)(Le,{children:[Object(ue.jsxs)(ze,{children:["\u0412\u044b\u0431\u0435\u0440\u0435\u0442\u0435 ",Object(ue.jsx)("br",{})," \u043a\u0443\u043f\u044e\u0440\u044b"]}),[5e3,2e3,1e3,500,200,100,50].map((function(e,n){return Object(ue.jsx)(Ne,{num:n,note:e},n)}))]})}),Object(ue.jsxs)(xe,{children:[Object(ue.jsx)(Ce,{children:"\u0412\u044b\u0434\u0430\u043d\u043e \u043f\u043e\u043b\u044c\u0437\u043e\u0432\u0430\u0442\u0435\u043b\u044e"}),Object(ue.jsx)(Ue,{children:[5e3,2e3,1e3,500,200,100,50].map((function(e,t){return Object(ue.jsx)(we,{item:e,count:n(e)},t)}))}),Object(ue.jsxs)(Fe,{children:["\u041e\u0441\u0442\u0430\u0442\u043e\u043a:",Object(ue.jsx)("span",{children:Object(ue.jsx)("b",{children:e.getBalance})})]})]})]})})})),He=function(){return Object(ue.jsxs)(ue.Fragment,{children:[Object(ue.jsx)(pe,{}),Object(ue.jsx)(Ge,{}),Object(ue.jsx)(be,{})]})},Pe=t(19),Xe=Object(l.a)(G||(G=Object(r.a)(["\n  *,\n  *:after,\n  *:before {\n    box-sizing: border-box;\n    margin: 0;\n    padding:0;\n} \n\n  html, body {\n    height: 100%;\n  }\n  #root {\n    display:flex;\n    flex-direction: column;\n    height: 100%;\n    margin: 0 auto;\n    max-width: 1440px;\n  }\n"]))),Ve={validInput:"",requiredTotalAmount:"",selectedNotes:[],showInfo:!1,limits:new p(854,857,696,356,279,147,73),givenMoney:{},showAlert:{state:!1,text:""},balance:0},Je=Object(s.a)((function(e,n){switch(n.type){case P:return Object(d.a)(Object(d.a)({},e),{},{validInput:n.payload});case X:return Object(d.a)(Object(d.a)({},e),{},{validInput:e.validInput+n.payload});case V:return Object(d.a)(Object(d.a)({},e),{},{validInput:""});case J:return Object(d.a)(Object(d.a)({},e),{},{requiredTotalAmount:n.payload});case W:return Object(d.a)(Object(d.a)({},e),{},{selectedNotes:[].concat(Object(Pe.a)(e.selectedNotes),[n.payload]).sort((function(e,n){return n-e}))});case Q:return Object(d.a)(Object(d.a)({},e),{},{selectedNotes:[]});case Y:return Object(d.a)(Object(d.a)({},e),{},{selectedNotes:e.selectedNotes.filter((function(e){return e!==n.payload}))});case K:return Object(d.a)(Object(d.a)({},e),{},{showInfo:!e.showInfo});case Z:return Object(d.a)(Object(d.a)({},e),{},{givenMoney:n.payload});case $:return Object(d.a)(Object(d.a)({},e),{},{showAlert:{state:!e.showAlert.state,text:n.text}});case ee:return Object(d.a)(Object(d.a)({},e),{},{balance:n.total});default:return e}}),Ve,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());a.a.render(Object(ue.jsx)(o.a.StrictMode,{children:Object(ue.jsxs)(u.a,{store:Je,children:[Object(ue.jsx)(Xe,{}),Object(ue.jsx)(He,{})]})}),document.getElementById("root"))}},[[33,1,2]]]);
//# sourceMappingURL=main.6104edfe.chunk.js.map